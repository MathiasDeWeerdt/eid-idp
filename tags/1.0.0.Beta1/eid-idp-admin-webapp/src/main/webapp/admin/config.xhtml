<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:s="http://jboss.com/products/seam/taglib">
<body>
<ui:composition template="/WEB-INF/template.xhtml">
    <ui:param name="activeMenu" value="config"/>
    <ui:define name="body">
        <h2>Configuration</h2>

        <h:form>

            <rich:tabPanel switchType="client" selectedTab="#{idpConfig.selectedTab}">

                <rich:tab name="tab_xkms" label="PKI validation">
                    <h:panelGrid columns="2">
                        <h:outputText value="eID Trust Service XKMS2 URL:"/>
                        <h:inputText value="#{idpConfig.xkmsUrl}"/>

                        <h:outputText value="eID Trust Service Authentication Trust Domain:"/>
                        <h:inputText value="#{idpConfig.xkmsAuthTrustDomain}"/>

                        <h:outputText value="eID Trust Service Identification Trust Domain:"/>
                        <h:inputText value="#{idpConfig.xkmsIdentTrustDomain}"/>
                    </h:panelGrid>
                    <h:commandButton value="Save" action="#{idpConfig.saveXkms}"/>
                </rich:tab>

                <rich:tab name="tab_pseudonym" label="Pseudonyms">
                    <h:panelGrid columns="2">
                        <h:outputText
                                value="Default HMAC-SHA1 secret (hexadecimal):"/>
                        <h:inputText value="#{idpConfig.hmacSecret}"/>
                    </h:panelGrid>
                    <h:commandButton value="Save" action="#{idpConfig.savePseudonym}"/>
                </rich:tab>

                <rich:tab name="tab_network" label="Network">
                    <h:panelGrid columns="2">
                        <h:outputText value="HTTP Proxy"/>
                        <h:selectBooleanCheckbox
                                value="#{idpConfig.httpProxy}"/>

                        <h:outputText value="HTTP Proxy Host: "/>
                        <h:inputText value="#{idpConfig.httpProxyHost}"
                                     size="30"/>

                        <h:outputText value="HTTP Proxy Port: "/>
                        <h:inputText value="#{idpConfig.httpProxyPort}"
                                     size="10"/>
                    </h:panelGrid>
                    <h:commandButton value="Save" action="#{idpConfig.saveNetwork}"/>
                </rich:tab>

            </rich:tabPanel>

        </h:form>

    </ui:define>
</ui:composition>
</body>
</html>

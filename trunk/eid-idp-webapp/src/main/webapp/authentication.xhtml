<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core">
<body>
<ui:composition template="/WEB-INF/template.xhtml">
    <ui:define name="body">
        <h2>#{messages.authentication}</h2>

        <p>#{messages.authenticationInfo}</p>

        <p>
            <h:outputLabel value="#{messages.serviceProvider}: #{idpSP.rp}"
                    rendered="#{idpSP.rp != null}"/>
        </p>

        <script src="https://www.java.com/js/deployJava.js"></script>
        <script>
            var attributes = {
                code :'be.fedict.eid.applet.Applet.class',
                archive :'eid-applet-package-${eid-applet.version}.jar',
                width :600,
                height :300
            };
            var parameters = {
                TargetPage :'protocol-exit',
                AppletService :'applet-authentication-service',
                Language :'#{localeSelector.language}',
                NavigatorUserAgent : navigator.userAgent,
                NavigatorAppName : navigator.appName,
                NavigatorAppVersion : navigator.appVersion
            };
            var version = '1.6';
            deployJava.runApplet(attributes, parameters, version);
        </script>

        <rich:simpleTogglePanel switchType="client"
                                opened="false"
                                label="#{messages.privacyDetails}">

            <p>#{messages.attributeInfo}</p>
            <rich:dataTable id="data" var="item"
                            value="#{idpRPAttributes}">

                <h:column>
                    <h:outputText value="#{item.uri}"/>
                </h:column>
            </rich:dataTable>

        </rich:simpleTogglePanel>

    </ui:define>
</ui:composition>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:s="http://jboss.com/products/seam/taglib">
<body>
<ui:composition template="/WEB-INF/template.xhtml">
    <ui:param name="activeMenu" value="config"/>
    <ui:define name="body">
        <h2>Configuration</h2>
        <h:form>
            <rich:tabPanel switchType="client">

                <rich:tab label="PKI validation">
                    <h:panelGrid columns="2">
                        <h:outputText value="eID Trust Service XKMS2 URL:"/>
                        <h:inputText value="#{idpConfig.xkmsUrl}"/>

                        <h:outputText value="eID Trust Service Trust Domain:"/>
                        <h:inputText value="#{idpConfig.xkmsTrustDomain}"/>
                    </h:panelGrid>
                    <h:commandButton value="Save" action="#{idpConfig.save}"/>
                </rich:tab>
                <rich:tab label="Pseudonyms">
                    <h:panelGrid columns="2">
                        <h:outputText
                                value="Default HMAC-SHA1 secret (hexadecimal):"/>
                        <h:inputText value="#{idpConfig.hmacSecret}"/>
                    </h:panelGrid>
                    <h:commandButton value="Save" action="#{idpConfig.save}"/>
                </rich:tab>

                <rich:tab label="Network">
                    <h:panelGrid columns="2">
                        <h:outputText value="HTTP Proxy"/>
                        <h:selectBooleanCheckbox
                                value="#{idpConfig.httpProxy}"/>

                        <h:outputText value="HTTP Proxy Host: "/>
                        <h:inputText value="#{idpConfig.httpProxyHost}"
                                     size="30"/>

                        <h:outputText value="HTTP Proxy Port: "/>
                        <h:inputText value="#{idpConfig.httpProxyPort}"
                                     size="10"/>
                    </h:panelGrid>
                    <h:commandButton value="Save" action="#{idpConfig.save}"/>
                </rich:tab>

                <rich:tab label="IdP Identity">
                    <h:panelGrid columns="2">
                        <h:outputLabel value="Keystore Type (*)"
                                       for="keystore_type"/>
                        <s:decorate>
                            <h:selectOneMenu id="keystore_type"
                                             value="#{idpConfig.keyStoreType}"
                                             required="true">
                                <f:selectItems value="#{keyStoreTypes}"/>
                                <h:message for="keystore_type"
                                           styleClass="error"/>
                            </h:selectOneMenu>
                        </s:decorate>
                        <h:outputLabel
                                value="Keystore Path (*)"
                                for="keystore_path"/>
                        <s:decorate>
                            <h:inputText id="keystore_path"
                                         value="#{idpConfig.keyStorePath}"
                                         required="true" size="50">
                            </h:inputText>
                            <h:message for="keystore_path" styleClass="error"/>
                        </s:decorate>

                        <h:outputLabel
                                value="Keystore Password (*)"
                                for="keystore_pw"/>
                        <s:decorate>
                            <h:inputText id="keystore_pw"
                                         value="#{idpConfig.keyStorePassword}"
                                         required="true">
                            </h:inputText>
                            <h:message for="keystore_pw" styleClass="error"/>
                        </s:decorate>

                        <h:outputLabel
                                value="Key Entry Password (*)"
                                for="keyentry_pw"/>
                        <s:decorate>
                            <h:inputText id="keyentry_pw"
                                         value="#{idpConfig.keyEntryPassword}"
                                         required="true">
                            </h:inputText>
                        </s:decorate>

                        <h:outputLabel
                                value="Key Entry Alias"
                                for="keyentry_alias"/>
                        <h:inputText id="keyentry_alias"
                                     value="#{idpConfig.keyEntryAlias}">
                        </h:inputText>

                    </h:panelGrid>
                    <h:commandButton id="keystore_save" value="Save"
                                     action="#{idpConfig.save}"/>
                    <h:message for="keystore_save" styleClass="error"/>
                </rich:tab>

            </rich:tabPanel>
        </h:form>
    </ui:define>
</ui:composition>
</body>
</html>
